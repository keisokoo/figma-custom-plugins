(()=>{"use strict";function t(t,n,r){var e=t.length-n.length;if(0===e)return t.apply(void 0,Array.from(n));if(1===e)return function(t,n,r){var e=function(r){return t.apply(void 0,function(t,n,r){if(r||2===arguments.length)for(var e,a=0,o=n.length;a<o;a++)!e&&a in n||(e||(e=Array.prototype.slice.call(n,0,a)),e[a]=n[a]);return t.concat(e||Array.prototype.slice.call(n))}([r],Array.from(n),!1))},a=null!=r?r:t.lazy;return void 0===a?e:Object.assign(e,{lazy:a,lazyArgs:n})}(t,n,r);throw new Error("Wrong number of arguments")}var n=function(){return n=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t},n.apply(this,arguments)};function r(){return t(e,arguments)}function e(t,r,e){var a;return n(n({},t),((a={})[r]=e,a))}var a=function(){return a=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t},a.apply(this,arguments)};function o(){return t(i,arguments)}function i(t,n){return a(a({},t),n)}function c(t){return Math.round(255*t)}function l(t){var n=(256|c(t)).toString(16).slice(1);return 1==n.length?"0"+n:n}function s(t,n,r,e){let a="#"+l(t)+l(n)+l(r),o=e?String(e):"1";return o="1"===o?"":(255*Number(o)|256).toString(16).slice(1),a+o}function u(t){return t.map((t=>`rgba(${c(t.color.r)},${c(t.color.g)},${c(t.color.b)},${t.color.a}) ${100*t.position}%`)).join(",")}function g(t){var n=t[0],r=t[1],e=t[2],a=t[3],o=n*a-r*e;let i={translation:[t[4],t[5]],deg:0,rotation:0,scale:[0,0],skew:[0,0]};if(0!=n||0!=r){var c=Math.sqrt(n*n+r*r);i.rotation=r>0?Math.acos(n/c):-Math.acos(n/c),i.scale=[c,o/c],i.skew=[Math.atan((n*e+r*a)/(c*c)),0]}else if(0!=e||0!=a){var l=Math.sqrt(e*e+a*a);i.rotation=Math.PI/2-(a>0?Math.acos(-e/l):-Math.acos(e/l)),i.scale=[o/l,l],i.skew=[0,Math.atan((n*e+r*a)/(l*l))]}let s=i.rotation*(180/Math.PI)+Math.PI/2*(180/Math.PI);return i.deg=s<0?s+360:s,i}const f=/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/g,p=/[\{\}\[\]\/?.,;:|\)*~`!^\-+<>@\#$%&\\\=\(\'\"]/g;function h(t){return isNaN(Number(t.charAt(0)))?f.test(t.charAt(0))?h(t=t.slice(1,t.length)):(t.includes("-")&&(t=t.replace(/-/g," ")),p.test(t)&&(t=t.replace(p,"")),t):h(t=`_${t}`)}function d(t){return t.charAt(0).toUpperCase()+t.substring(1)}function y(t){return t.charAt(0).toLocaleLowerCase()+t.substring(1)}function m(t,n){return t.includes(n)?t.split(n).map((t=>t)):[t]}new Map([["PascalCase",function(t){return h(t).replace(/\w+/g,d).replace(/\s/g,"")}],["camelCase",function(t){return y(h(t).replace(/\w+/g,d).replace(/\s/g,""))}],["snake_case",function(t){return h(t).replace(/\w+/g,y).replace(/\s/g,"_")}],["original",t=>t]]);var v=function(t,n,r,e){return new(r||(r=Promise))((function(a,o){function i(t){try{l(e.next(t))}catch(t){o(t)}}function c(t){try{l(e.throw(t))}catch(t){o(t)}}function l(t){var n;t.done?a(t.value):(n=t.value,n instanceof r?n:new r((function(t){t(n)}))).then(i,c)}l((e=e.apply(t,n||[])).next())}))};figma.showUI(__html__),figma.on("selectionchange",(()=>{figma.ui.postMessage(figma.currentPage.selection)}));const b={thin:100,extrathin:200,light:300,regular:400,medium:500,semibold:600,bold:700,extrabold:800,black:900};!function(){v(this,void 0,void 0,(function*(){const t=yield function(){return v(this,void 0,void 0,(function*(){return(yield figma.getLocalTextStylesAsync()).filter((t=>"TEXT"===t.type)).map((t=>{var n;let r=t.fontName.style.replace(/\s/g,"").toLocaleLowerCase(),e=null!==(n=b[r])&&void 0!==n?n:400;return{name:t.name,groupName:m(t.name,"/"),css:`\n          font-size: ${t.fontSize}px;\n          font-weight: ${e};\n          letter-spacing: ${"PERCENT"===t.letterSpacing.unit?t.letterSpacing.value+"%":t.letterSpacing.value+"px"};\n          ${"AUTO"!==t.lineHeight.unit&&`line-height: ${"PERCENT"===t.lineHeight.unit?t.lineHeight.value+"%":t.lineHeight.value+"px"};`}\n        `}})).reduce(((t,n)=>o(t,r({},n.name,n.css))),{})}))}(),n=o(yield function(){return v(this,arguments,void 0,(function*(t="hex"){return(yield figma.getLocalPaintStylesAsync()).filter((t=>{var n;return 1===(null===(n=t.paints)||void 0===n?void 0:n.length)&&"SOLID"===t.paints[0].type})).map((t=>{const n=t.paints[0];if("SOLID"===n.type)return function(t,n){return{name:t,hex:s(n.color.r,n.color.g,n.color.b,n.opacity),rgba:`rgba(${c(n.color.r)},${c(n.color.g)},${c(n.color.b)},${n.opacity})`,color:n,groupName:m(t,"/")}}(t.name,n)})).filter((t=>t)).reduce(((n,e)=>o(n,r({},e.name,"rgba"===t?e.rgba:e.hex))),{})}))}(),yield function(){return v(this,void 0,void 0,(function*(){return(yield figma.getLocalPaintStylesAsync()).filter((t=>{var n;return(null===(n=t.paints)||void 0===n?void 0:n.length)>1&&t.paints.some((t=>"SOLID"===t.type||t.type.includes("GRADIENT")))||1===t.paints.length&&t.paints.some((t=>t.type.includes("GRADIENT")))})).map((t=>t.paints.map((n=>{if("SOLID"===n.type)return null;if("GRADIENT_LINEAR"===n.type){const r=n.gradientTransform;return r[0][0],r[0][1],r[0][2],r[1][0],r[1][1],r[1][2],g([...n.gradientTransform[0]].concat(n.gradientTransform[1])).deg,u([...n.gradientStops]),t.name,n.gradientStops,n.gradientTransform,n.type,function(t,n){const r=n.gradientTransform,e=`linear-gradient(${g([r[0][0],r[0][1],r[0][2],r[1][0],r[1][1],r[1][2]]).deg}deg,${u([...n.gradientStops])});`;return{name:t,gradientStops:n.gradientStops,gradientTransform:n.gradientTransform,background:e,type:n.type,groupName:m(t,"/")}}(t.name,n)}if("GRADIENT_RADIAL"===n.type){const t=n.gradientTransform;return Math.round(t[0][0]),Math.round(t[0][1]),Math.round(t[0][2]),Math.round(t[1][0]),Math.round(t[1][1]),Math.round(t[1][2]),g([...n.gradientTransform[0]].concat(n.gradientTransform[1])),null}return null})))).filter((t=>!!t)).reduce(((t,n)=>o(t,r({},n[0].name,n[0].background))),{})}))}());figma.ui.postMessage({type:"styles",text:`\nconst typography = ${JSON.stringify(t,null,2)} as const;\n\nconst colors = ${JSON.stringify(n,null,2)};\nexport const figmaVars = {\n  typography,\n  colors,\n} as const;\n    `})}))}()})();