(()=>{"use strict";var t=function(t,n,e){if(e||2===arguments.length)for(var r,a=0,o=n.length;a<o;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return t.concat(r||Array.prototype.slice.call(n))};function n(n,e,r){var a=n.length-e.length,o=Array.from(e);if(0===a)return n.apply(void 0,o);if(1===a){var i=function(e){return n.apply(void 0,t([e],o,!1))};return(r||n.lazy)&&(i.lazy=r||n.lazy,i.lazyArgs=e),i}throw new Error("Wrong number of arguments")}var e=function(){return e=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t},e.apply(this,arguments)};function r(){return n(a,arguments)}function a(t,n,r){var a;return e(e({},t),((a={})[n]=r,a))}function o(){return n(i,arguments)}function i(t,n){return Object.assign({},t,n)}function c(t){return Math.round(255*t)}function l(t){var n=(256|c(t)).toString(16).slice(1);return 1==n.length?"0"+n:n}function s(t,n,e,r){let a="#"+l(t)+l(n)+l(e),o=r?String(r):"1";return o="1"===o?"":(255*Number(o)|256).toString(16).slice(1),a+o}function u(t){return t.map((t=>`rgba(${c(t.color.r)},${c(t.color.g)},${c(t.color.b)},${t.color.a}) ${100*t.position}%`)).join(",")}function g(t){var n=t[0],e=t[1],r=t[2],a=t[3],o=n*a-e*r;let i={translation:[t[4],t[5]],deg:0,rotation:0,scale:[0,0],skew:[0,0]};if(0!=n||0!=e){var c=Math.sqrt(n*n+e*e);i.rotation=e>0?Math.acos(n/c):-Math.acos(n/c),i.scale=[c,o/c],i.skew=[Math.atan((n*r+e*a)/(c*c)),0]}else if(0!=r||0!=a){var l=Math.sqrt(r*r+a*a);i.rotation=Math.PI/2-(a>0?Math.acos(-r/l):-Math.acos(r/l)),i.scale=[o/l,l],i.skew=[0,Math.atan((n*r+e*a)/(l*l))]}let s=i.rotation*(180/Math.PI)+Math.PI/2*(180/Math.PI);return i.deg=s<0?s+360:s,i}const f=/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/g,p=/[\{\}\[\]\/?.,;:|\)*~`!^\-+<>@\#$%&\\\=\(\'\"]/g;function d(t){return isNaN(Number(t.charAt(0)))?f.test(t.charAt(0))?d(t=t.slice(1,t.length)):(t.includes("-")&&(t=t.replace(/-/g," ")),p.test(t)&&(t=t.replace(p,"")),t):d(t=`_${t}`)}function h(t){return t.charAt(0).toUpperCase()+t.substring(1)}function m(t){return t.charAt(0).toLocaleLowerCase()+t.substring(1)}function y(t,n){return t.includes(n)?t.split(n).map((t=>t)):[t]}new Map([["PascalCase",function(t){return d(t).replace(/\w+/g,h).replace(/\s/g,"")}],["camelCase",function(t){return m(d(t).replace(/\w+/g,h).replace(/\s/g,""))}],["snake_case",function(t){return d(t).replace(/\w+/g,m).replace(/\s/g,"_")}],["original",t=>t]]);var v=function(t,n,e,r){return new(e||(e=Promise))((function(a,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(i,c)}l((r=r.apply(t,n||[])).next())}))};figma.showUI(__html__),figma.on("selectionchange",(()=>{figma.ui.postMessage(figma.currentPage.selection)}));const b={thin:100,extrathin:200,light:300,regular:400,medium:500,semibold:600,bold:700,extrabold:800,black:900};!function(){v(this,void 0,void 0,(function*(){const t=yield function(){return v(this,void 0,void 0,(function*(){return(yield figma.getLocalTextStylesAsync()).filter((t=>"TEXT"===t.type)).map((t=>{var n;let e=t.fontName.style.replace(/\s/g,"").toLocaleLowerCase(),r=null!==(n=b[e])&&void 0!==n?n:400;return{name:t.name,groupName:y(t.name,"/"),css:Object.assign({fontSize:`${t.fontSize}px`,fontWeight:`${r}`,letterSpacing:"PERCENT"===t.letterSpacing.unit?t.letterSpacing.value+"%":t.letterSpacing.value+"px"},"AUTO"!==t.lineHeight.unit&&{lineHeight:"PERCENT"===t.lineHeight.unit?t.lineHeight.value+"%":t.lineHeight.value+"px"})}})).reduce(((t,n)=>o(t,r({},n.name,n.css))),{})}))}(),n=o(yield function(){return v(this,arguments,void 0,(function*(t="hex"){return(yield figma.getLocalPaintStylesAsync()).filter((t=>{var n;return 1===(null===(n=t.paints)||void 0===n?void 0:n.length)&&"SOLID"===t.paints[0].type})).map((t=>{const n=t.paints[0];if("SOLID"===n.type)return function(t,n){return{name:t,hex:s(n.color.r,n.color.g,n.color.b,n.opacity),rgba:`rgba(${c(n.color.r)},${c(n.color.g)},${c(n.color.b)},${n.opacity})`,color:n,groupName:y(t,"/")}}(t.name,n)})).filter((t=>t)).reduce(((n,e)=>o(n,r({},e.name,"rgba"===t?e.rgba:e.hex))),{})}))}(),yield function(){return v(this,void 0,void 0,(function*(){return(yield figma.getLocalPaintStylesAsync()).filter((t=>{var n;return(null===(n=t.paints)||void 0===n?void 0:n.length)>1&&t.paints.some((t=>"SOLID"===t.type||t.type.includes("GRADIENT")))||1===t.paints.length&&t.paints.some((t=>t.type.includes("GRADIENT")))})).map((t=>t.paints.map((n=>{if("SOLID"===n.type)return null;if("GRADIENT_LINEAR"===n.type){const e=n.gradientTransform;return e[0][0],e[0][1],e[0][2],e[1][0],e[1][1],e[1][2],g([...n.gradientTransform[0]].concat(n.gradientTransform[1])).deg,u([...n.gradientStops]),t.name,n.gradientStops,n.gradientTransform,n.type,function(t,n){const e=n.gradientTransform,r=`linear-gradient(${g([e[0][0],e[0][1],e[0][2],e[1][0],e[1][1],e[1][2]]).deg}deg,${u([...n.gradientStops])});`;return{name:t,gradientStops:n.gradientStops,gradientTransform:n.gradientTransform,background:r,type:n.type,groupName:y(t,"/")}}(t.name,n)}if("GRADIENT_RADIAL"===n.type){const t=n.gradientTransform;return Math.round(t[0][0]),Math.round(t[0][1]),Math.round(t[0][2]),Math.round(t[1][0]),Math.round(t[1][1]),Math.round(t[1][2]),g([...n.gradientTransform[0]].concat(n.gradientTransform[1])),null}return null})))).filter((t=>!!t)).reduce(((t,n)=>o(t,r({},n[0].name,n[0].background))),{})}))}());Object.keys(n).reduce(((t,n)=>(t[n]=null,t)),{}),figma.ui.postMessage({type:"styles",text:`\nconst typography = ${JSON.stringify(t,null,2)};\n\nconst colors = ${JSON.stringify(n,null,2)}\nexport const figmaVars = {\n  typography,\n  colors,\n};\n    `})}))}()})();